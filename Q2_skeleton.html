<!-- Author : Omer Saleem Wahab
Registration number: CS151054
Assignment # 2
Mouse Down render new objects 

**NOTE: Import Three.js in same folder before running the file**

-->


<html>

<head>
	<title>Computer Graphics - Assignment 1 - Q2) Draw triangle with mouse click</title>
</head>

<body>



	<script src="three.js"></script>
	<script>

		var scene = new THREE.Scene();
		var camera = new THREE.OrthographicCamera(-1, 1, 1, -1, 0, 1);

		var renderer = new THREE.WebGLRenderer();
		renderer.setSize(window.innerWidth, window.innerHeight);
		document.body.appendChild(renderer.domElement);



		var cursorX;
		var cursorY;
		document.onmousedown = function (e) {
			cursorX = (event.clientX / window.innerWidth) * 2 - 1;
			cursorY = -(event.clientY / window.innerHeight) * 2 + 1;
			// alert("Cursor at: " + cursorX + ", " + cursorY);

			window.setInterval(function () {

				var geometry = new THREE.Geometry();

				geometry.vertices.push(
					new THREE.Vector3(cursorX, cursorY, 0),
					new THREE.Vector3(-(cursorX), cursorY, 0),
					new THREE.Vector3(0, -(cursorX), 0)
				);

				geometry.faces.push(new THREE.Face3(0, 1, 2));

				var material = new THREE.MeshBasicMaterial({ color: 0x00ff00 });
				var triangle = new THREE.Mesh(geometry, material);
				scene.add(triangle);
			}, 10)
			// var geometry = new THREE.Geometry();

			// geometry.vertices.push(
			// 	new THREE.Vector3(cursorX, cursorY, 0),
			// 	new THREE.Vector3(-(cursorX), cursorY, 0),
			// 	new THREE.Vector3(0, -(cursorX), 0)
			// );

			// geometry.faces.push(new THREE.Face3(0, 1, 2));

			// var material = new THREE.MeshBasicMaterial({ color: 0x00ff00 });
			// var triangle = new THREE.Mesh(geometry, material);
			// scene.add(triangle);

		}

		document.onmousemove = function (e) {
			var geometry = new THREE.Geometry();

			geometry.vertices.push(
				new THREE.Vector3(cursorX, cursorY, 0),
				new THREE.Vector3(-(cursorX), cursorY, 0),
				new THREE.Vector3(0, -(cursorX), 0)
			);

			geometry.faces.push(new THREE.Face3(0, 1, 2));

			var material = new THREE.MeshBasicMaterial({ color: 0x00ff00 });
			var triangle = new THREE.Mesh(geometry, material);
			scene.add(triangle);

			render();




		}

		var render = function () {
			requestAnimationFrame(render);

			renderer.render(scene, camera);
		};

		// render();


	</script>
</body>

</html>